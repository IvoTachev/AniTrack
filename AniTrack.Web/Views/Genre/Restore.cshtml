@using AniTrack.Web.ViewModels.Genre;
@model RestoreGenreViewModel

@{
    ViewData["Title"] = "Restore Genre";
    bool showConfirmation = !string.IsNullOrEmpty(Model.SelectedGenreName);
}

<div class="d-flex justify-content-center align-items-center" style="height: 70vh;">
    @if (!showConfirmation)
    {
        <div class="card shadow bg-dark text-white" style="width: 400px;">
            <div class="card-body text-center">
                <h4 class="card-title mb-4">Which genre do you want to restore?</h4>
                <form method="get" asp-action="Restore" asp-controller="Genre">
                    <div class="mb-4">
                        <select asp-for="SelectedGenreName" class="form-select" required>
                            <option value="">-- Select Genre --</option>
                            @foreach (var genre in Model.Genres)
                            {
                                <option value="@genre.Name">@genre.Name</option>
                            }
                        </select>
                    </div>
                    <div class="d-flex justify-content-center gap-3 mt-4">
                        <button type="submit" class="btn btn-success">Restore</button>
                        <a class="btn btn-secondary" href="@Url.Action("Index", "Home", new { area = "Admin" })">
                            Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    }
    else
    {
        <div class="card shadow bg-dark text-white" style="width: 600px; min-height: 250px;">
            <div class="card-body d-flex flex-column justify-content-center align-items-center">
                <div class="alert alert-success mb-4 w-100 text-center fs-5">
                    Are you sure you want to restore this genre: <strong>@Model.SelectedGenreName</strong>?
                </div>
                <form method="post" asp-action="Restore" asp-controller="Genre" class="w-100">
                    <input type="hidden" name="SelectedGenreName" value="@Model.SelectedGenreName" />
                    <div class="d-flex justify-content-center gap-3 mt-4">
                        <button type="submit" class="btn btn-success btn-lg px-5">Confirm</button>
                        <a class="btn btn-secondary btn-lg px-5" href="@Url.Action("Index", "Home", new { area = "Admin" })">
                            Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    }
</div>
